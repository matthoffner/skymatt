<html>
    <head>
    </head>
    <body>
        <script>
            const nightTime = 'black, black, black, black, black, black, black';
            const colorClock = [
                nightTime,
                nightTime,
                nightTime,
            /* sunrise */    'black, #280e08, #352209, #1f2f43, #193d80, #0a2a65, #01286b', 
            /* sunrise */    '#44181c, #4d1a0f, #40290a, #23354c, #193d80, #1552C6, #0542A8', 
            /* sunrise     */'#2a0608, #701a07, #895107, #1e4b85, #082a6a, #082d71, #03296b', 
            /* sunrise */    '#2a0608, #3b6c85, #895107, #1e4b85, #082a6a, #082d71, #03296b', 
                /* am */    '#2a0608, #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
                /* am */    '#2a0608, #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
                /* am */    '#369fcc, #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* lunch */    '#369fcc, #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* lunch */    '#369fcc, #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* lunch */    '#369fcc, #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* lunch */    'rgb(79, 86, 180), #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* afternoon */    'rgb(79, 86, 180), #c0aaa4, #c1b7ab, #5783be, #86a5df, #7895cb, #a0b5da', 
            /* afternoon */    'rgb(79, 86, 180), #c0aaa4, #c1b7ab, #5783be, #86a5df, #7895cb, #a0b5da', 
            /* afternoon */    'rgb(79, 86, 180), #c0aaa4, #c1b7ab, #5783be, #86a5df, #7895cb, #a0b5da', 
            /* sunset */    '#180a0a, #701a07, #895107, #1e4b85, #082a6a, #082d71, #03296b', 
            /* sunset */    '#180a0a, #701a07, #895107, #1e4b85, #082a6a, #082d71, #03296b', 
            /* sunset */    '#180a0a, #4d1a0f, #40290a, #23354c, #193d80, #1552C6, #0542A8', 
            /* sunset */    '#180a0a, #280e08, #352209, #1f2f43, #193d80, #0a2a65, #01286b', 
                nightTime,
                nightTime,
                nightTime
            ];
            const getTimeColorOrder = (cssDuration, duration) => {
                const findClosest = function (x, arr) {
                    const indexArr = arr.map(function(k) { return Math.abs(k - x) })
                    const min = Math.min.apply(Math, indexArr)
                    return arr[indexArr.indexOf(min)]
                }
                const now = new Date().getHours();
                const closest = cssDuration.indexOf(findClosest(Math.round(now/duration * 100), cssDuration));
                const cssOrder = cssDuration.map((percent, x) => closest + x >= cssDuration.length ? closest + x - cssDuration.length : closest + x);
                return cssOrder;
            }
            
            document.addEventListener("DOMContentLoaded", function() {
                console.log(colorClock.length);
                const arrayRange = (start, stop, step) =>
                    Array.from(
                    { length: (stop - start) / step + 1 },
                    (value, index) => Math.round(start + index * step)
                );
                const cssDuration = arrayRange(0, 100, 100/(colorClock.length - 1));
                const colorClockOrder = getTimeColorOrder(cssDuration, colorClock.length);
                const backgroundColorPalette = colorClockOrder.map((color, i) => 
                    `${`${cssDuration[i]}`}% { background: linear-gradient(to bottom, ${colorClock[color]}); }\n`);
                const style = document.createElement('style');
                const animationName = `@keyframes backgroundColorPalette { ${backgroundColorPalette.join('')} }`;
                style.innerHTML = `${animationName} :root { background-color: black; animation-name: backgroundColorPalette; 
                    animation-duration: 84600s; animation-iteration-count: infinite; }`;
                var ref = document.querySelector('script');
                ref.parentNode.insertBefore(style, ref);
            });
        </script>
    </body>
</html>