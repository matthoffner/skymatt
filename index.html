<html>
    <head>
    </head>
    <body>
        <script>
            const nightTime = 'black, black, black, black, black, black, black';
            const colorClock = [
                nightTime,
                nightTime,
            /* sunrise */    'black, #280e08, #352209, #1f2f43, #193d80, #0a2a65, #01286b', 
            /* sunrise */    '#44181c, #4d1a0f, #40290a, #23354c, #193d80, #1552C6, #0542A8', 
            /* sunrise     */    '#2a0608, #701a07, #895107, #1e4b85, #082a6a, #082d71, #03296b', 
            /* sunrise */    '#2a0608, #3b6c85, #895107, #1e4b85, #082a6a, #082d71, #03296b', 
            /* am */    '#369fcc, #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* am */    '#369fcc, 86, 179), #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* am */    '#369fcc, 86, 180), #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* am */    '#369fcc, 86, 181), #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* lunch */    '#369fcc, #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* lunch */    '#369fcc, #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* lunch */    '#369fcc, #3b6c85, #a5c1d3, #4a6d9b, #3072EB, #1552C6, #0542A8', 
            /* afternoon */    '#369fcc, #c0aaa4, #c1b7ab, #5783be, #86a5df, #7895cb, #a0b5da', 
            /* afternoon */    'rgb(79, 86, 180), #c0aaa4, #c1b7ab, #5783be, #86a5df, #7895cb, #a0b5da', 
            /* afternoon */    'rgb(79, 86, 180), #c0aaa4, #c1b7ab, #5783be, #86a5df, #7895cb, #a0b5da', 
            /* afternoon */    'rgb(79, 86, 180), #c0aaa4, #c1b7ab, #5783be, #86a5df, #7895cb, #a0b5da', 
            /* sunset */    '#180a0a, #701a07, #895107, #1e4b85, #082a6a, #082d71, #03296b', 
            /* sunset */    '#180a0a, #701a07, #895107, #1e4b85, #082a6a, #082d71, #03296b', 
            /* sunset */    '#180a0a, #4d1a0f, #40290a, #23354c, #193d80, #1552C6, #0542A8', 
            /* sunset */    '#180a0a, #280e08, #352209, #1f2f43, #193d80, #0a2a65, #01286b', 
                nightTime,
                nightTime,
                nightTime
            ];
            const percents = new Array(24).fill().map((d,i)=>i%24*100/24);
            const findClosest = function (x, arr) {
                const indexArr = arr.map(function(k) { return Math.abs(k - x) })
                const min = Math.min.apply(Math, indexArr)
                return arr[indexArr.indexOf(min)]
            }
            document.addEventListener("DOMContentLoaded", function() {
                const now = new Date().getHours();
                const percent = now/24 * 100;
                const closest = percents.indexOf(findClosest(percent, percents));
                const newOrder = percents.map((percent, x) => closest + x >= percents.length ? closest + x - percents.length : closest + x); 
                const backgroundColorPalette = colorClock.map((color, i) => 
                    `${`${percents[newOrder.indexOf(i)]}`}% { background: linear-gradient(to bottom, ${color}); }\n`);
                const style = document.createElement('style');
                const animationName = `@keyframes backgroundColorPalette { ${backgroundColorPalette.join('')} }`;
                style.innerHTML = `${animationName} :root { animation-name: backgroundColorPalette; animation-duration: 86400s; animation-iteration-count: infinite; }`;
                var ref = document.querySelector('script');
                ref.parentNode.insertBefore(style, ref);
            });
        </script>
    </body>
</html>